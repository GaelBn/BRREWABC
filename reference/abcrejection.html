<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Run ABC rejection inference in parallel — abcrejection • BRREWABC</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Run ABC rejection inference in parallel — abcrejection"><meta name="description" content="Run ABC rejection inference in parallel"><meta property="og:description" content="Run ABC rejection inference in parallel"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">BRREWABC</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/BRREWABC.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/estimation-and-model-selection-using-abc-smc.html">Estimation and model selection using ABC-SMC</a></li>
    <li><a class="dropdown-item" href="../articles/estimation-using-abc-rejection.html">Estimation using abc rejection</a></li>
    <li><a class="dropdown-item" href="../articles/resume-an-estimation-using-abc-smc.html">Resume an estimation using ABC-SMC</a></li>
    <li><a class="dropdown-item" href="../articles/running-an-abc-smc-procedure-on-a-cluster-sge.html">Running an ABC-SMC procedure on a cluster (SGE)</a></li>
    <li><a class="dropdown-item" href="../articles/running-an-abc-smc-procedure-on-a-cluster-slurm.html">Running an ABC-SMC procedure on a cluster (Slurm)</a></li>
    <li><a class="dropdown-item" href="../articles/use-of-several-distances-with-abc-smc.html">Use of several distances with ABC-SMC</a></li>
    <li><a class="dropdown-item" href="../articles/using-a-model-defined-in-a-separate-file.html">Using a model defined in a separate file</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/GaelBn/BRREWABC/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Run ABC rejection inference in parallel</h1>
      <small class="dont-index">Source: <a href="https://github.com/GaelBn/BRREWABC/blob/main/R/abcrejection.R" class="external-link"><code>R/abcrejection.R</code></a></small>
      <div class="d-none name"><code>abcrejection.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Run ABC rejection inference in parallel</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">abcrejection</span><span class="op">(</span></span>
<span>  model_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  model_def <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  prior_dist <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  ss_obs <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  nb_acc_prtcl <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  thresholds <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  max_attempts <span class="op">=</span> <span class="fl">1e+05</span>,</span>
<span>  acceptance_rate_min <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>  experiment_folderpath <span class="op">=</span> <span class="st">"./"</span>,</span>
<span>  on_cluster <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cluster_type <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  slurm_script_template <span class="op">=</span></span>
<span>    <span class="st">"#!/bin/bash\n# THE FOLLOWING SECTION SHOULD NOT BE MODIFIED\n#SBATCH --job-name=job-array_%%A_%%a   # nom du job\n#SBATCH --ntasks=1\n#SBATCH --ntasks-per-node=1\n#SBATCH --hint=nomultithread\n#SBATCH --time=24:00:00\n#SBATCH --array=%s-%s%%%d\noutput_fpath=%s\nerror_fpath=%s\n#SBATCH --output=$output_fpath/output_%%A_%%a.out\n#SBATCH --error=$error_fpath/error_%%A_%%a.out\nmkdir -p $output_fpath\nmkdir -p $error_fpath\nRscript %s $SLURM_ARRAY_TASK_ID\n"</span>,</span>
<span>  sge_script_template <span class="op">=</span></span>
<span>    <span class="st">"#!/bin/bash\n#$ -S /bin/bash\n#$ -N subjob_abcrejection_prlll\n# #$ -q \"short.q|long.q\"\n# THE FOLLOWING SECTION SHOULD NOT BE MODIFIED\n#$ -cwd\n#$ -V\n#$ -t %s-%s\n#$ -tc %d\n#$ -o /dev/null\n#$ -e /dev/null\noutput_fpath=%s\nerror_fpath=%s\nmkdir -p $output_fpath\nmkdir -p $error_fpath\nRscript %s $SGE_TASK_ID &gt;$output_fpath/subjob.${SGE_TASK_ID}.out 2&gt;$error_fpath/subjob.${SGE_TASK_ID}.err\n"</span>,</span>
<span>  max_concurrent_jobs <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-model-list">model_list<a class="anchor" aria-label="anchor" href="#arg-model-list"></a></dt>
<dd><p>a list linking model name ( character string) to
associated function</p></dd>


<dt id="arg-model-def">model_def<a class="anchor" aria-label="anchor" href="#arg-model-def"></a></dt>
<dd><p>a R file containing only the model(s) function(s)</p></dd>


<dt id="arg-prior-dist">prior_dist<a class="anchor" aria-label="anchor" href="#arg-prior-dist"></a></dt>
<dd><p>a list linking model name (character string) to a list
describing the prior distribution of each parameter to be estimated</p></dd>


<dt id="arg-ss-obs">ss_obs<a class="anchor" aria-label="anchor" href="#arg-ss-obs"></a></dt>
<dd><p>the observed summary statistics</p></dd>


<dt id="arg-nb-acc-prtcl">nb_acc_prtcl<a class="anchor" aria-label="anchor" href="#arg-nb-acc-prtcl"></a></dt>
<dd><p>the number of particles (per model, the total
number corresponding to this number multiplied by the number of models) to
be accepted</p></dd>


<dt id="arg-thresholds">thresholds<a class="anchor" aria-label="anchor" href="#arg-thresholds"></a></dt>
<dd><p>a value of the threshold to be used to select acceptable
particles (currently, using multiple distances is not yet supported for this
method, but will be considered in the future). If NA, no particle will be
accepted and a number of parricles equal to max_attempts will be generated</p></dd>


<dt id="arg-max-attempts">max_attempts<a class="anchor" aria-label="anchor" href="#arg-max-attempts"></a></dt>
<dd><p>the maximum number of particles to be tested during an
iteration, beyond which the procedure stops (in order to prevent
excessively long computations)</p></dd>


<dt id="arg-acceptance-rate-min">acceptance_rate_min<a class="anchor" aria-label="anchor" href="#arg-acceptance-rate-min"></a></dt>
<dd><p>the acceptance rate below which the procedure
stops (in order to prevent excessively long computations)</p></dd>


<dt id="arg-experiment-folderpath">experiment_folderpath<a class="anchor" aria-label="anchor" href="#arg-experiment-folderpath"></a></dt>
<dd><p>the folder in which to carry out the estimation
procedure and save the results</p></dd>


<dt id="arg-on-cluster">on_cluster<a class="anchor" aria-label="anchor" href="#arg-on-cluster"></a></dt>
<dd><p>whether or not the procedure is run on a
computation cluster</p></dd>


<dt id="arg-cluster-type">cluster_type<a class="anchor" aria-label="anchor" href="#arg-cluster-type"></a></dt>
<dd><p>cluster type used (sge and slurm currently supported)</p></dd>


<dt id="arg-slurm-script-template">slurm_script_template<a class="anchor" aria-label="anchor" href="#arg-slurm-script-template"></a></dt>
<dd><p>script used to launch jobs on a slurm cluster</p></dd>


<dt id="arg-sge-script-template">sge_script_template<a class="anchor" aria-label="anchor" href="#arg-sge-script-template"></a></dt>
<dd><p>script used to launch jobs on a sge cluster</p></dd>


<dt id="arg-max-concurrent-jobs">max_concurrent_jobs<a class="anchor" aria-label="anchor" href="#arg-max-concurrent-jobs"></a></dt>
<dd><p>maximum number of jobs/tasks run in parallel</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>whether or not to display specific information</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a list containing two dataframes corresponding to (1) the particles
accepted and (2) all tested particles</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/GaelBn/BRREWABC" class="external-link">BRREWABC</a></span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://gaelbn.com" class="external-link">Gaël Beaunée</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

